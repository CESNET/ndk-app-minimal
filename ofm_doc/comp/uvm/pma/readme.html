<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PMA agent &mdash; Minimal NDK Application Docs 1.0 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html" class="icon icon-home"> Minimal NDK Application Docs
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Application:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../app-minimal.html">Minimal NDK application</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Network Development Kit:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/intel/readme.html">NDK architecture (Intel FPGA)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../build/readme.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_core/doc/devtree.html">Device Tree</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Supported cards:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/dk-dev-1sdx-p/readme.html">Stratix 10 DX FPGA Development Kit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ndk_cards/dk-dev-agi027res/readme.html">Agilex I-Series FPGA Development Kit</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">VHDL components:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../base.html">Basic Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ctrls.html">Controllers &amp; TSU</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mi.html">MI Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mfb.html">MFB Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mvb.html">MVB Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nic.html">Network Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pcie.html">PCIe Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../debug.html">Debug Tools</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Minimal NDK Application Docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>PMA agent</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/ofm_doc/comp/uvm/pma/readme.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pma-agent">
<span id="uvm-pma"></span><h1>PMA agent<a class="headerlink" href="#pma-agent" title="Permalink to this headline"></a></h1>
<p>Agent is used for connecting of all components (driver, monitor,…). Agent has his own configuration object which contains two parameters: active (when is up then agent is active in other way is passive) and interface which say name of the interface that is used.
When agent is active then sequencer and driver are created amd connected to interface. When is passive then only monitor is created.</p>
<section id="pma-interface">
<h2>PMA interface<a class="headerlink" href="#pma-interface" title="Permalink to this headline"></a></h2>
<p>PMA (Physical Medium Attachment) bus is proprietary interface which is connected to tranascievers. Main task of this interface is took data from encoder, scramble them and send it to tranasciever. There could be two types of data (depends on header), control data or usable data. On this interface are encoded data from encoder, this data could have this formats:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">IDLE</span></code> this format contains: first eight bits which define type of frame (type <code class="docutils literal notranslate"><span class="pre">IDLE</span></code>) and others zeros which specify space between frames.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">START</span></code> this format contains: first eight bits which define type of frame (type <code class="docutils literal notranslate"><span class="pre">START</span></code>) and others bytes are data bytes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DATA</span></code> this format contains only data bytes and don’t have type.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TERMINATE</span></code> this format contains: eight bits which define type of frame (type <code class="docutils literal notranslate"><span class="pre">TERMINATE</span></code>), position of type depends on amount of data which are sended with terminate. So there in the first place there are data bytes (amount depends on number of data valid bytes), then type and in last there are zeros (space between frames).</p></li>
</ul>
<section id="pma-bus-description">
<h3>PMA bus description<a class="headerlink" href="#pma-bus-description" title="Permalink to this headline"></a></h3>
<p>PMA bus has these 5 ports which will be described below.</p>
</section>
<section id="generics">
<h3>Generics<a class="headerlink" href="#generics" title="Permalink to this headline"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 13%" />
<col style="width: 12%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>DATA_WIDTH</p></td>
<td><p>natural</p></td>
<td><p>32</p></td>
<td><p>Data word width in bits.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="ports">
<h3>Ports<a class="headerlink" href="#ports" title="Permalink to this headline"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 3%" />
<col style="width: 17%" />
<col style="width: 68%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Dir</p></th>
<th class="head"><p>Dimension</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>DATA</p></td>
<td><p>IN</p></td>
<td><p>DATA_WIDTH</p></td>
<td><p>Encoded and scrambled data from PMA.</p></td>
</tr>
<tr class="row-odd"><td><p>DATA_VLD</p></td>
<td><p>IN</p></td>
<td><p>DATA_WIDTH</p></td>
<td><p>Data valid</p></td>
</tr>
<tr class="row-even"><td><p>HDR</p></td>
<td><p>IN</p></td>
<td><p>2</p></td>
<td><p>Header from PMA, valid states are 01 (control block) and 10 (data block).</p></td>
</tr>
<tr class="row-odd"><td><p>HDR_VLD</p></td>
<td><p>IN</p></td>
<td><p>1</p></td>
<td><p>Header valid, this port is valid once per two clocks.</p></td>
</tr>
<tr class="row-even"><td><p>BLOCK_LOCK</p></td>
<td><p>IN</p></td>
<td><p>1</p></td>
<td><p>This port say that transmiting has started.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="pma-sequence-item">
<h2>PMA sequence item<a class="headerlink" href="#pma-sequence-item" title="Permalink to this headline"></a></h2>
<p>Sequence item contains basic ports from interface. All signals which are in sequence item are randomized.
There are three methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">do_copy</span></code> is used for copying of the transaction.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">do_compare</span></code> is used for comparing data of two transactions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">convert2string</span></code> is used for printing whole transaction.</p></li>
</ul>
</section>
<section id="pma-monitor">
<h2>PMA monitor<a class="headerlink" href="#pma-monitor" title="Permalink to this headline"></a></h2>
<p>PMA monitor is used for monitoring of traffic. There is only easy monitor which write whole transaction to analysis port.</p>
</section>
<section id="pma-driver">
<h2>PMA driver<a class="headerlink" href="#pma-driver" title="Permalink to this headline"></a></h2>
<p>PMA driver is used for driving PMA transactions to interface.</p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, CESNET z.s.p.o..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>