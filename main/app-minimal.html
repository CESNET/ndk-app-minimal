<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Minimal NDK application &mdash; Minimal NDK Application Docs 1.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="How to start" href="ndk_core/doc/how_to_start.html" />
    <link rel="prev" title="Documentation of Minimal NDK Application" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Minimal NDK Application Docs
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Application:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Minimal NDK application</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Network Development Kit:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ndk_core/doc/how_to_start.html">How to start</a></li>
<li class="toctree-l1"><a class="reference internal" href="ndk_core/doc/terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="ndk_core/intel/readme.html">NDK architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="ndk_core/doc/configuration.html">Configuration files and parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="ndk_core/doc/testing.html">NDK testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="ofm_doc/build/readme.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="ndk_core/doc/devtree.html">Device Tree</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Supported cards:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ndk_cards/agi-fh400g/readme.html">ReflexCES XpressSX AGI-FH400G</a></li>
<li class="toctree-l1"><a class="reference internal" href="ndk_cards/dk-dev-1sdx-p/readme.html">Intel Stratix 10 DX FPGA DK</a></li>
<li class="toctree-l1"><a class="reference internal" href="ndk_cards/dk-dev-agi027res/readme.html">Intel Agilex I-Series FPGA DK</a></li>
<li class="toctree-l1"><a class="reference internal" href="ndk_cards/fb4cgg3/readme.html">Silicom fb4CGg3&#64;VU9P</a></li>
<li class="toctree-l1"><a class="reference internal" href="ndk_cards/fb2cghh/readme.html">Silicom fb2CGhh&#64;KU15P</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">VHDL components:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ofm_doc/base.html">Basic Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="ofm_doc/ctrls.html">Controllers &amp; TSU</a></li>
<li class="toctree-l1"><a class="reference internal" href="ofm_doc/mi.html">MI Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="ofm_doc/mfb.html">MFB Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="ofm_doc/mvb.html">MVB Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="ofm_doc/nic.html">Network Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="pcie.html">PCIe Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="ofm_doc/debug.html">Debug Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="ofm_doc/ver.html">UVM Verification</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Minimal NDK Application Docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Minimal NDK application</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/app-minimal.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="minimal-ndk-application">
<span id="ndk-app-minimal"></span><h1>Minimal NDK application<a class="headerlink" href="#minimal-ndk-application" title="Permalink to this heading">ÔÉÅ</a></h1>
<p>The Minimal application serves as a simple demonstration of how to build an FPGA application using the NDK. It can also be used as a starting point for building your own application. The Minimal application does not process network packets in any way, it can only receive and send them. If the DMA module IP is enabled, the network packets are forwarded to the computer memory.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The DMA module IP is not part of the open-source NDK. If the DMA module IP is disabled, then it is replaced by a loopback. <a class="reference external" href="https://support.brnologic.com/">You can get NDK including DMA Module IP and professional support through our partner BrnoLogic</a>.</p>
</div>
<a class="reference internal image-reference" href="_images/app_core.drawio.svg"><img alt="_images/app_core.drawio.svg" class="align-center" src="_images/app_core.drawio.svg" width="100%" /></a>
<p>The block diagram above shows the connection of the Minimal application core, which is available in this repository.
This core supports multiple Ethernet and DMA streams, each of which is independent and contains logic (subcore) that transfers packets between the Ethernet and DMA interfaces in both directions.
In the direction from ETH to DMA, configurable packet distribution to DMA channels is supported. Packet distribution on DMA channels is performed by component <a class="reference internal" href="ofm_doc/comp/mvb_tools/flow/channel_router/readme.html#mvb-channel-router"><span class="std std-ref">MVB Channel Router</span></a>. By default, a portion of the DMA channels is allocated for each ETH channel, to which packets are distributed in round robin mode. In the opposite direction (from DMA to ETH), DMA channels are statically mapped to available ETH channels. The ETH channel number is determined by the high bits of the DMA channel number.
The application core also contains <a class="reference internal" href="ofm_doc/comp/debug/mem_tester/readme.html#mem-tester"><span class="std std-ref">Memory Tester modules</span></a> connected to external memory controllers.
These modules make it easy to test the operation of external memories and measure their properties (throughput, latency).</p>
<p><strong>Example of MI space offsets for the Minimal application</strong></p>
<p>This example assumes that the Minimal application consists of two subcores and also contains two Memory tester modules.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mh">0x0000000</span><span class="o">-</span><span class="mh">0x07FFFFF</span> <span class="o">--</span> <span class="n">APP</span> <span class="n">subcore</span> <span class="mi">0</span> <span class="p">(</span><span class="n">registers</span> <span class="n">of</span> <span class="n">DMA</span> <span class="n">channel</span> <span class="n">distribution</span> <span class="o">+</span> <span class="n">reserved</span> <span class="n">space</span><span class="p">)</span>
<span class="mh">0x0800000</span><span class="o">-</span><span class="mh">0x0FFFFFF</span> <span class="o">--</span> <span class="n">APP</span> <span class="n">subcore</span> <span class="mi">1</span> <span class="p">(</span><span class="n">registers</span> <span class="n">of</span> <span class="n">DMA</span> <span class="n">channel</span> <span class="n">distribution</span> <span class="o">+</span> <span class="n">reserved</span> <span class="n">space</span><span class="p">)</span>
<span class="mh">0x1000000</span><span class="o">-</span><span class="mh">0x17FFFFF</span> <span class="o">--</span> <span class="n">Memory</span> <span class="n">Tester</span> <span class="mi">0</span>
<span class="mh">0x1800000</span><span class="o">-</span><span class="mh">0x1FFFFFF</span> <span class="o">--</span> <span class="n">Memory</span> <span class="n">Tester</span> <span class="mi">1</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The final MI address is obtained by summing the base address and the offset. If the base address of the application core is <code class="docutils literal notranslate"><span class="pre">0x02000000</span></code>, then the final address of APP subcore 1 will be <code class="docutils literal notranslate"><span class="pre">0x02000000</span> <span class="pre">+</span> <span class="pre">0x0800000</span> <span class="pre">=</span> <span class="pre">0x02800000</span></code>.</p>
</div>
<p><strong>References</strong></p>
<ul class="simple">
<li><p><a class="reference internal" href="ofm_doc/comp/mi_tools/readme.html#mi-bus"><span class="std std-ref">MI bus specification</span></a></p></li>
<li><p><a class="reference internal" href="ofm_doc/comp/mfb_tools/readme.html#mfb-bus"><span class="std std-ref">MFB bus specification</span></a></p></li>
<li><p><a class="reference internal" href="ofm_doc/comp/mvb_tools/readme.html#mvb-bus"><span class="std std-ref">MVB bus specification</span></a></p></li>
<li><p><a class="reference external" href="https://www.intel.com/content/dam/www/programmable/us/en/pdfs/literature/manual/mnl_avalon_spec.pdf">Avalon Interface Specifications (external)</a></p></li>
<li><p><a class="reference internal" href="ofm_doc/comp/debug/mem_tester/readme.html#mem-tester"><span class="std std-ref">Memory Tester module documentation</span></a></p></li>
</ul>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Documentation of Minimal NDK Application" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ndk_core/doc/how_to_start.html" class="btn btn-neutral float-right" title="How to start" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, CESNET z.s.p.o..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>